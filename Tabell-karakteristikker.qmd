---
title: "Tabell karakteristikker"
format: html
editor: visual
editor_options: 
  chunk_output_type: console
---


Start med å få tilgang til gt() funksjonen for å lage figurer.
```{r}
library(gt)
```


Ønsker å ha variabler nedover første kolonne i tabellen. Derfor gjør vi litt pivoting også ønsker vi senere gjennomsnittsverdier for variablene i en kolonne og standardavvik i en annen. Da kan vi senere slå sammen gjennomsnitt og standardavvik i samme kolonne i tabellen vår. 

```{r}
tabell_1 <- sykkeltest |> 
  filter(timepoint == "t1") |> 
  pivot_longer(names_to = "variabler", 
               values_to = "verdier", 
               cols = age:percent.aerob) |> 
  
  summarise(m = mean(verdier, na.rm = TRUE), 
         sd = sd(verdier, na.rm = TRUE), 
         miss_val = sum(is.na(verdier)), 
         n = n(),
         .by = variabler) |> 
  print()
```

Ønsker å sette variablene som faktorer og navngi dem og velge ut de vi er interessert i. Får opp en tabell, men får opp NA. Dette kan man lese om ved å skrive ?factor(), men løser det ikke ved å bruke argumentet exclude = NULL. 
Kanskje vi må bruke select(), i forrige code chunk og heller bare velge de variablene vi ønsker i tabellen der?
```{r}
tabell_1 |> 
  select(variabler:sd) |> 
  mutate(variabler = factor(variabler, 
                           levels = c("age", "bodyheight", 
                                      "bodymass", 
                                      "w.max", 
                                      "vo2.rel.max", 
                                      "vo2.max"), 
                           labels = c("Alder", "Height", 
                                      "Vekt", 
                                      "W.maks", 
                                      "Relativt oksygenopptak", 
                                      "Absolutt oksygenopptak"), 
                           exclude = NULL)) |> 
  gt() 
```












